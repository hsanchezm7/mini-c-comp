(%
	#include "ListaSimbolos.h"
	Lista tabSImb;
	Tipo tipo;
	int contCadenas=1;
%)
	
program : { tabSimb=crealS(); } IDEN PARI PARD ALLAVE declarations statement_list CLLAVE { imprimirTS(tabSImb); liberaLS(tabSimb); }

delarations : declarations VAR { tipo=VARIABLE; } identifier_list PTOCOMA
            | declarations CONST { tipo=CONSTANTE; } identifier_list PTOCOMA
            | /* lambda */
            ;
            
identifier_list : identifier
                | identifier_list coma identifier
                ;

identifier : IDEN                       { if !(perteneceTS($1)) insertarTS($1,tipo);
                                          else printf("ERROR"); }
           | IDEN IGUAL expresoin       { if !(perteneceTS($1)) insertarTS($1,tipo);
                                          else printf("ERROR"); }
           ;
           
statement_list : statement_list statement
               | /* lambda */
               ;
               
statement : IDEN IGUAL expression PTOCOMA       { if !(perteneceTS($1)) insertarTS($1,tipo);
                                                    else if esConstante($1) printf("ERROR"); }
          | ALLAVE statement_list CLLAVE
          | if PARI expression PARD statement else statement
          | if PARI expression PARD statement
          | while PARI expression PARD statement
          | print PARI print_list PARD PTOCOMA
          | read PARI read_list PARD PTOCOMA
          ;
          
print_list : print_item
            | print_list COMA print_item
            ;
            
print_item : expression
           | STRING             { Ã¯nsertarTS($1,CADENA); contCadenas++; }
           
read_list : IDEN                [ if
          | read_list COMA read_item
          ;
